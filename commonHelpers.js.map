{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImagesByUserQuery(searchQuery) {\n  const requestParams = new URLSearchParams({\n    key: '45094869-2592a7d622688fe6b4ce663f6',\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${requestParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.error('Error fetching images', error);\n      throw error;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst renderImages = (searchResult, list) => {\n  list.innerHTML = '';\n  const markup = searchResult\n    .map(\n      element => `\n    <li class=\"card\">\n      <a class=\"card-link\" href=\"${element.largeImageURL}\">\n        <img class=\"card-image\" src=\"${element.webformatURL}\" alt=\"${element.tags}\" />\n      </a>\n      <div class=\"info-text\">\n        <ul class=\"card-list\">\n          <li class=\"card-list-li\">\n            <h3>likes</h3>\n            <p>${element.likes}</p>\n          </li>\n          <li class=\"card-list-li\">\n            <h3>views</h3>\n            <p>${element.views}</p>\n          </li>\n          <li class=\"card-list-li\">\n            <h3>comments</h3>\n            <p>${element.comments}</p>\n          </li>\n          <li class=\"card-list-li\">\n            <h3>downloads</h3>\n            <p>${element.downloads}</p>\n          </li>\n        </ul>\n      </div>\n    </li>\n  `\n    )\n    .join('');\n  list.insertAdjacentHTML('beforeend', markup);\n\n  const lightbox = new SimpleLightbox('.card-link', {\n    inlineStyles: false,\n    captionsData: 'alt',\n    captionDelay: 250,\n    disableScroll: true,\n  });\n\n  lightbox.refresh();\n};\nexport default renderImages;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { searchImagesByUserQuery } from './js/pixabay-api.js';\nimport renderImages from './js/render-functions.js';\n\nconst form = document.querySelector('#search-form');\nconst input = document.querySelector('#search-input');\nconst loader = document.querySelector('#loader');\nconst list = document.querySelector('#gallery');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const searchQuery = input.value.trim();\n  if (!searchQuery) {\n    iziToast.show({\n      title: '❌',\n      message: 'Please enter a search query.',\n      messageColor: 'white',\n      backgroundColor: '#E25757',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  loader.style.display = 'block';\n  list.innerHTML = '';\n\n  searchImagesByUserQuery(searchQuery)\n    .then(data => {\n      const searchResult = data.hits;\n      if (searchResult.length > 0) {\n        renderImages(searchResult, list);\n      } else {\n        iziToast.show({\n          title: '❌',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: 'white',\n          backgroundColor: '#E25757',\n          position: 'topRight',\n        });\n      }\n    })\n    .catch(error => {\n      console.error('Error fetching images', error);\n      iziToast.show({\n        title: '❌',\n        message: 'Failed to fetch images. Please try again later!',\n        messageColor: 'white',\n        backgroundColor: '#E25757',\n        position: 'topRight',\n        timeout: 6000,\n      });\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n      event.target.reset();\n    });\n});\n"],"names":["searchImagesByUserQuery","searchQuery","requestParams","response","error","renderImages","searchResult","list","markup","element","SimpleLightbox","form","input","loader","event","iziToast","data"],"mappings":"6vBAAO,SAASA,EAAwBC,EAAa,CACnD,MAAMC,EAAgB,IAAI,gBAAgB,CACxC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAa,EAAE,EACrD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,wBAAyBA,CAAK,EACtCA,CACZ,CAAK,CACL,CCjBA,MAAMC,EAAe,CAACC,EAAcC,IAAS,CAC3CA,EAAK,UAAY,GACjB,MAAMC,EAASF,EACZ,IACCG,GAAW;AAAA;AAAA,mCAEkBA,EAAQ,aAAa;AAAA,uCACjBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAMhEA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,GAM7B,EACA,KAAK,EAAE,EACVF,EAAK,mBAAmB,YAAaC,CAAM,EAE1B,IAAIE,EAAe,aAAc,CAChD,aAAc,GACd,aAAc,MACd,aAAc,IACd,cAAe,EACnB,CAAG,EAEQ,QAAO,CAClB,ECxCMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAS,SAAS,cAAc,SAAS,EACzCN,EAAO,SAAS,cAAc,UAAU,EAE9CI,EAAK,iBAAiB,SAAUG,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMb,EAAcW,EAAM,MAAM,KAAI,EACpC,GAAI,CAACX,EAAa,CAChBc,EAAS,KAAK,CACZ,MAAO,IACP,QAAS,+BACT,aAAc,QACd,gBAAiB,UACjB,SAAU,UAChB,CAAK,EACD,MACD,CAEDF,EAAO,MAAM,QAAU,QACvBN,EAAK,UAAY,GAEjBP,EAAwBC,CAAW,EAChC,KAAKe,GAAQ,CACZ,MAAMV,EAAeU,EAAK,KACtBV,EAAa,OAAS,EACxBD,EAAaC,EAAcC,CAAI,EAE/BQ,EAAS,KAAK,CACZ,MAAO,IACP,QACE,2EACF,aAAc,QACd,gBAAiB,UACjB,SAAU,UACpB,CAAS,CAET,CAAK,EACA,MAAMX,GAAS,CACd,QAAQ,MAAM,wBAAyBA,CAAK,EAC5CW,EAAS,KAAK,CACZ,MAAO,IACP,QAAS,kDACT,aAAc,QACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbF,EAAO,MAAM,QAAU,OACvBC,EAAM,OAAO,OACnB,CAAK,CACL,CAAC"}